"use strict";(self.webpackChunkreenbit=self.webpackChunkreenbit||[]).push([[839],{8153:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(4925),l="Container_container__VRrje",s=n(184),i=["children","className"],c=function(e){var t=e.children,n=e.className,c=(0,a.Z)(e,i);return(0,s.jsx)("div",(0,r.Z)((0,r.Z)({className:"".concat(l," ").concat(n)},c),{},{children:t}))}},6839:function(e,t,n){n.r(t),n.d(t,{default:function(){return wt}});var r,a,l,s,i,c,o,d,u,v,_,m,f,g,p,h,y=n(1413),x=n(4925),S="Avatar_wrapper__yW4Uj",w="Avatar_displayStatus__ahXPF",j="Avatar_isOnline__BqUtp",b="Avatar_isOffline__gTe7K",N="Avatar_avatar__jVvSK",O="Avatar_inner_wrapper__h1ent",F=n(964),P=n(184),M=["url","userName","isOnline","className","stylesWrapper","dialogMode","onClick"],E=function(e){var t=e.url,n=e.userName,r=e.isOnline,a=e.className,l=void 0===a?"":a,s=e.stylesWrapper,i=void 0===s?"":s,c=e.dialogMode,o=e.onClick,d=(0,x.Z)(e,M),u=c?"":w+" "+(r?j:b),v="".concat(S," ").concat(u," ").concat(i),_="".concat(N," ").concat(l);return(0,P.jsx)("div",{className:v,onClick:o,children:(0,P.jsx)("div",{className:O,children:(0,P.jsx)("img",(0,y.Z)({src:null!==t&&void 0!==t?t:F.h5,alt:n,className:_},d))})})},k=n(9434),C=function(e){return e.filter.value},I=n(1634),Z=n(2791),B=["title","titleId"];function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A(e,t){var n=e.title,y=e.titleId,x=U(e,B);return Z.createElement("svg",H({id:"search",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 490.4 490.4",style:{enableBackground:"new 0 0 490.4 490.4"},xmlSpace:"preserve",ref:t,"aria-labelledby":y},x),n?Z.createElement("title",{id:y},n):null,r||(r=Z.createElement("g",null,Z.createElement("path",{d:"M484.1,454.796l-110.5-110.6c29.8-36.3,47.6-82.8,47.6-133.4c0-116.3-94.3-210.6-210.6-210.6S0,94.496,0,210.796 s94.3,210.6,210.6,210.6c50.8,0,97.4-18,133.8-48l110.5,110.5c12.9,11.8,25,4.2,29.2,0C492.5,475.596,492.5,463.096,484.1,454.796z  M41.1,210.796c0-93.6,75.9-169.5,169.5-169.5s169.6,75.9,169.6,169.5s-75.9,169.5-169.5,169.5S41.1,304.396,41.1,210.796z"}))),a||(a=Z.createElement("g",null)),l||(l=Z.createElement("g",null)),s||(s=Z.createElement("g",null)),i||(i=Z.createElement("g",null)),c||(c=Z.createElement("g",null)),o||(o=Z.createElement("g",null)),d||(d=Z.createElement("g",null)),u||(u=Z.createElement("g",null)),v||(v=Z.createElement("g",null)),_||(_=Z.createElement("g",null)),m||(m=Z.createElement("g",null)),f||(f=Z.createElement("g",null)),g||(g=Z.createElement("g",null)),p||(p=Z.createElement("g",null)),h||(h=Z.createElement("g",null)))}var W,D=Z.forwardRef(A),T=(n.p,"FilterBar_wrapper__rAIkG"),L="FilterBar_filter__YRKF3",K="FilterBar_search_icon__UEgmO",R=["wrapperStyles","iconStyles","inputStyles"],Y=function(e){var t=e.wrapperStyles,n=void 0===t?"":t,r=e.iconStyles,a=void 0===r?"":r,l=e.inputStyles,s=void 0===l?"":l,i=(0,x.Z)(e,R),c=(0,k.I0)(),o=(0,k.v9)(C);return(0,P.jsxs)("div",{className:"".concat(T," ").concat(n),children:[(0,P.jsx)(D,{className:"".concat(K," ").concat(a)}),(0,P.jsx)("input",(0,y.Z)({value:o,onChange:function(e){return c(I.w.setFilter(e.target.value))},className:"input ".concat(L," ").concat(s)},i))]})},z=n(8153),V="Header_header__OKWO7",G="Header_avatar__H1JXw",J="Header_container__TsUVY",Q=function(e){var t=e.children,n=e.stylesHeader,r=void 0===n?"":n,a=e.stylesContainer,l=void 0===a?"":a;return(0,P.jsx)("header",{className:"".concat(V," ").concat(r),children:(0,P.jsx)(z.Z,{className:"".concat(J," ").concat(l),children:t})})},X="HomePage_wrapper__E+a96",q="HomePage_inner_wrapper_1__Q+UrG",$="HomePage_inner_wrapper_2__rLbZa",ee="HomePage_section__QO2n7",te="HomePage_section_title__hjEBk",ne="HomePage_section_container__aHckr",re="HomePage_avatar__l18C4",ae="Section_section__7PoKG",le="Section_title__H9e+4",se=function(e){var t=e.children,n=e.title,r=e.titleStyles,a=void 0===r?"":r,l=e.containerStyles,s=void 0===l?"":l,i=e.sectionStyles,c=void 0===i?"":i;return(0,P.jsx)("section",{className:"".concat(ae," ").concat(c),children:(0,P.jsxs)(z.Z,{className:s,children:[n&&(0,P.jsx)("h1",{className:"".concat(le," ").concat(a),children:n}),t]})})},ie=n(2982),ce=n(6916),oe=(0,ce.P1)((function(e){return e.chats}),(function(e){return e.conversations})),de=(0,ce.P1)(oe,(function(e){return pe.getSelectedFriendId(e)}),(function(e,t){return e[t]})),ue=function(e){return(0,ce.P1)(oe,(function(t){var n;return null!==(n=t[e])&&void 0!==n?n:[]}))},ve=function(e){return(0,ce.P1)(oe,(function(t){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.filter((function(t){return t.from===e})))&&void 0!==n?n:[]}))},_e={getAllConversations:oe,getConversationWithFriend:ue,getOnlyFriendMessages:ve,getChatWithSelectedFriend:de,getLastMessage:function(e){return(0,ce.P1)(ve(e),ue(e),(function(e,t){var n,r=t.length-1;return null!==(n=e[e.length-1])&&void 0!==n?n:t[r]}))},getUnreadMessagesQuantaty:function(e){return(0,ce.P1)(ve(e),(function(e){var t,n;return null!==(t=null===(n=e.filter((function(e){return!e.isRead})))||void 0===n?void 0:n.length)&&void 0!==t?t:0}))}},me=function(e){return e.friends},fe=(0,ce.P1)(me,(function(e){return e.items})),ge=(0,ce.P1)(me,(function(e){return e.selectedFriendId})),pe={getFriendsFeature:me,getAllFriends:fe,getSelectedFriendId:ge,getSelectedFriendProfile:(0,ce.P1)(fe,ge,(function(e,t){return e.find((function(e){return e.id===t}))})),getAllFriendSortedByMostRecentMessage:(0,ce.P1)(fe,_e.getAllConversations,(function(e,t){var n=(0,ie.Z)(e),r=e.reduce((function(e,n){var r,a,l=n.id,s=t[l].filter((function(e){return e.from===l})),i=null!==s&&void 0!==s&&s.length?(null===s||void 0===s?void 0:s.length)-1:null;return e[l]=null!==(r=null===(a=s[i])||void 0===a?void 0:a.createdAt)&&void 0!==r?r:0,e}),{});return n.sort((function(e,t){return r[t.id]-r[e.id]}))})),getFilteredFriends:(0,ce.P1)(fe,(function(e){return C(e)}),(function(e,t){return""!==t?e.filter((function(e){var n=e.firstName,r=e.lastName,a=null===t||void 0===t?void 0:t.toLowerCase(),l=n.toLowerCase(),s=r.toLowerCase();return(null===l||void 0===l?void 0:l.includes(a))||(null===s||void 0===s?void 0:s.includes(a))})):[]}))},he=n(885),ye=n(3186),xe=n(2426),Se=n.n(xe),we="CreatedAt_date_time_text__huEGr",je=function(e){var t=e.date,n=e.precise,r=e.textStyles,a=void 0===r?"":r,l=e.timeStyles,s=void 0===l?"":l,i=n?"MM/DD/YYYY, HH:mm A":"ll",c=Se()(t).format(i),o="".concat(we," ").concat(a);return(0,P.jsx)("p",{className:o,children:(0,P.jsx)("time",{dateTime:c,className:s,children:c})})},be={name_wrapper:"Friend_name_wrapper__VKFGi",friend_card:"Friend_friend_card__B4DTk",friend_name:"Friend_friend_name__KcO+d",last_message:"Friend_last_message__sHUTF",created_at:"Friend_created_at__uode8",unread:"Friend_unread__abtzu"},Ne="Unread_wrapper__3yJpt",Oe="Unread_unread__bUp3L",Fe="Unread_icon__h0Mj2",Pe=["title","titleId"];function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ke(e,t){var n=e.title,r=e.titleId,a=Ee(e,Pe);return Z.createElement("svg",Me({id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},a),n?Z.createElement("title",{id:r},n):null,W||(W=Z.createElement("g",null,Z.createElement("path",{d:"M381.7,225.9c0-97.6-52.5-130.8-101.6-138.2c0-0.5,0.1-1,0.1-1.6c0-12.3-10.9-22.1-24.2-22.1c-13.3,0-23.8,9.8-23.8,22.1   c0,0.6,0,1.1,0.1,1.6c-49.2,7.5-102,40.8-102,138.4c0,113.8-28.3,126-66.3,158h384C410.2,352,381.7,339.7,381.7,225.9z"}),Z.createElement("path",{d:"M256.2,448c26.8,0,48.8-19.9,51.7-43H204.5C207.3,428.1,229.4,448,256.2,448z"}))))}var Ce,Ie=Z.forwardRef(ke),Ze=(n.p,["number","numberStyles","wrapperStyles","iconStyles"]),Be=function(e){var t=e.number,n=e.numberStyles,r=void 0===n?"":n,a=e.wrapperStyles,l=void 0===a?"":a,s=e.iconStyles,i=void 0===s?"":s,c=(0,x.Z)(e,Ze),o="".concat(Oe," ").concat(r),d="".concat(Ne," ").concat(l),u="".concat(Fe," ").concat(i);return(0,P.jsxs)("div",{className:d,children:[(0,P.jsx)(Ie,{className:u}),(0,P.jsx)("span",(0,y.Z)((0,y.Z)({className:o},c),{},{children:t}))]})},He=function(e){var t=e.cardStyles,n=void 0===t?"":t,r=e.nameStyles,a=void 0===r?"":r,l=e.lastMessageStyles,s=void 0===l?"":l,i=e.dialogMode,c=e.firstName,o=e.lastName,d=e.avatar,u=e.isOnline,v=e.id,_=(0,k.I0)(),m=(0,Z.useState)(!0),f=(0,he.Z)(m,1)[0],g=(0,k.v9)(pe.getSelectedFriendId),p=(0,k.v9)(_e.getUnreadMessagesQuantaty(v)),h=(0,k.v9)(_e.getLastMessage(v)),y=!i&&h,x=f&&p>0&&g!==v,S="".concat(be.friend_card," ").concat(n),w="".concat(be.friend_name," ").concat(a),j="".concat(be.last_message," ").concat(s);return(0,P.jsxs)("div",{className:S,onClick:function(){g!==v&&_(ye._.setSelectedFriend(v))},children:[(0,P.jsx)(E,{stylesWrapper:be.avatar_wrapper,url:d,userName:c+" "+o,isOnline:u}),(0,P.jsxs)("div",{className:be.name_wrapper,children:[(0,P.jsxs)("p",{className:w,children:[c," ",o]}),y&&(0,P.jsx)("p",{className:j,children:h.message})]}),y&&(0,P.jsx)(je,{date:+(null===h||void 0===h?void 0:h.createdAt),textStyles:be.created_at}),x&&(0,P.jsx)(Be,{number:p,wrapperStyles:be.unread})]})},Ue={list_item:"ChatList_list_item__HV7VI"},Ae=function(e){var t,n=e.chatListStyles,r=void 0===n?"":n,a=e.listItemStyles,l=void 0===a?"":a,s=(0,k.v9)(pe.getAllFriendSortedByMostRecentMessage),i=(0,k.v9)(pe.getFilteredFriends),c=s.length,o=i.length?i:s,d="".concat(null!==(t=Ue.chat_list)&&void 0!==t?t:""," ").concat(r),u="".concat(Ue.list_item," ").concat(l);return(0,P.jsx)(P.Fragment,{children:c?(0,P.jsx)("ul",{className:d,children:o.map((function(e){return(0,P.jsx)("li",{className:u,children:(0,P.jsx)(He,(0,y.Z)({},e))},e.id)}))}):null})},We="DialogMessage_wrapper__tpSPM",De="DialogMessage_avatar__0vdTY",Te="DialogMessage_created_at__FbKzK",Le=n(2605),Ke=function(e){var t=e.messageText,n=e.sender,r=e.date,a=e.wrapperStyles,l=void 0===a?"":a,s=e.messageFriendStyles,i=void 0===s?"":s,c=e.messageUserStyles,o=void 0===c?"":c,d=e.innerWrapperStyles,u=void 0===d?"":d,v=(0,k.v9)(pe.getSelectedFriendProfile),_=n===(0,k.v9)(Le.p.getUser).userId,m="".concat(We," ").concat(l," ").concat(_?"flexEnd":""),f="message ".concat(_?"fromUser":"fromFriend"," ").concat(i," ").concat(o);return(0,P.jsxs)("div",{className:m,children:[!_&&(0,P.jsx)(E,{stylesWrapper:De,dialogMode:!0,url:v.avatar,userName:v.firstName+" "+v.lastName}),(0,P.jsxs)("div",{className:u,children:[(0,P.jsx)("p",{className:f,children:t}),(0,P.jsx)(je,{date:+r,precise:!0,textStyles:Te})]})]})},Re={dialog_window:"DialogWindow_dialog_window__vMU1e",chat_list:"DialogWindow_chat_list__+H-cT",list_item:"DialogWindow_list_item__Ib6i0",alert:"DialogWindow_alert__iPc+B"},Ye="Seems there is no messages yet. Send a message to start the conversation...",ze="No chat is selected. Pick up a chat from the left side to see all the messages with a friend...",Ve=function(e){var t=e.windwowStyles,n=void 0===t?"":t,r=e.listItemStyles,a=void 0===r?"":r,l=(0,k.v9)(_e.getChatWithSelectedFriend),s=function(e){var t=(0,Z.useRef)(null);return(0,Z.useEffect)((function(){t.current&&t.current.scrollIntoView({behavior:"smooth"})}),[e]),[t]}(l),i=(0,he.Z)(s,1)[0],c=!(null!==l&&void 0!==l&&l.length),o=l&&!c,d=l&&c,u="".concat(Re.dialog_window," ").concat(n),v="".concat(Re.list_item," ").concat(a);return(0,P.jsxs)("div",{className:u,children:[!l&&(0,P.jsx)("p",{className:Re.alert,children:ze}),d&&(0,P.jsx)("p",{className:Re.alert,children:Ye}),o&&(0,P.jsx)("ul",{className:Re.chat_list,children:l.map((function(e){var t=e.message,n=e.createdAt,r=e.from;return(0,P.jsx)("li",{className:v,ref:i,children:(0,P.jsx)(Ke,{messageText:t,sender:r,date:n,messageStyles:Re.message})},n)}))})]})},Ge=n(5995),Je=n(5530),Qe="SendMessageBox_box__96T4W",Xe="SendMessageBox_inner_wrapper__nzRZ0",qe="SendMessageBox_input__ffBMu",$e="SendMessageBox_button__0XQk-",et="SendMessageBox_icon__3bsNx",tt=["title","titleId"];function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}function rt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function at(e,t){var n=e.title,r=e.titleId,a=rt(e,tt);return Z.createElement("svg",nt({className:"svg-icon",style:{verticalAlign:"middle",overflow:"hidden"},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?Z.createElement("title",{id:r},n):null,Ce||(Ce=Z.createElement("path",{d:"M85.76 896L981.333333 512 85.76 128 85.333333 426.666667l640 85.333333-640 85.333333z"})))}var lt=Z.forwardRef(at),st=(n.p,n(2824)),it=n(5861),ct=n(7757),ot=n.n(ct),dt=n(4569),ut=n.n(dt);ut().defaults.baseURL="https://api.chucknorris.io/jokes";var vt=function(){var e=(0,it.Z)(ot().mark((function e(){var t,n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut().get("/random");case 3:return t=e.sent,e.next=6,t.data.value;case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),_t=function(e){return new Promise((function(t){setTimeout((function(){var e=vt();return t(e)}),e)}))},mt=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(r){console.error("Set state error: ",r.message)}},ft=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(n){console.error("Get state error: ",n.message)}},gt=["boxStyles","innerWrapperStyles","inputStyles","buttonStyles","iconStyles"],pt=function(e){e.boxStyles;var t=e.innerWrapperStyles,n=void 0===t?"":t,r=e.inputStyles,a=void 0===r?"":r,l=e.buttonStyles,s=void 0===l?"":l,i=e.iconStyles,c=void 0===i?"":i,o=(0,x.Z)(e,gt),d=(0,k.I0)(),u=(0,Z.useState)(function(e,t){var n;return null!==(n=ft(e))&&void 0!==n?n:t}(F.ds.draftMessage,"")),v=(0,he.Z)(u,2),_=v[0],m=v[1],f=(0,Ge.Z)(Je),g=(0,he.Z)(f,1)[0],p=(0,k.v9)(pe.getSelectedFriendId),h=(0,k.v9)(Le.p.getUser);(0,Z.useEffect)((function(){mt(F.ds.draftMessage,_)}),[_]);var S="".concat(Qe," boxStyles"),w="".concat(Xe," ").concat(n),j="input ".concat(qe," ").concat(a),b="icon_button ".concat($e," ").concat(s),N="".concat(et," ").concat(c);return(0,P.jsx)("form",{className:S,onSubmit:function(e){e.preventDefault(),d(st.Y.addMessageToChat(p,null===h||void 0===h?void 0:h.userId,_,F.Nw.sent)),_t(12e3).then((function(e){d(st.Y.addMessageToChat(p,null===h||void 0===h?void 0:h.userId,e,F.Nw.recieved)),g()})),m("")},children:(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("input",(0,y.Z)({className:j,value:_,onChange:function(e){return m(e.target.value)}},o)),(0,P.jsx)("button",{type:"submit",className:b,children:(0,P.jsx)(lt,{className:N})})]})})},ht="DialogPanel_dialog_panel__J4K5c",yt="DialogPanel_subheader__40qKS",xt="DialogPanel_friend_name__+lu98",St=function(){var e=(0,k.v9)(pe.getSelectedFriendProfile);return(0,P.jsxs)("div",{className:ht,children:[(0,P.jsx)("div",{className:yt,children:e&&(0,P.jsx)(He,(0,y.Z)({dialogMode:!0,nameStyles:xt},e))}),(0,P.jsx)(Ve,{}),(0,P.jsx)(pt,{placeholder:"Type your message"})]})},wt=function(){var e=(0,k.v9)(Le.p.getUser),t="".concat(G," ").concat(re);return(0,P.jsxs)("div",{className:X,children:[(0,P.jsxs)("div",{className:q,children:[(0,P.jsxs)(Q,{children:[(0,P.jsx)(E,{userName:null===e||void 0===e?void 0:e.name,stylesWrapper:t,isOnline:null===e||void 0===e?void 0:e.isOnline,onClick:function(){console.log("clicked")}}),(0,P.jsx)(Y,{placeholder:"Search or start new chat"})]}),(0,P.jsx)(se,{title:"Chats",sectionStyles:ee,titleStyles:te,containerStyles:ne,children:(0,P.jsx)(Ae,{})})]}),(0,P.jsx)("div",{className:$,children:(0,P.jsx)(St,{})})]})}},5530:function(e,t,n){e.exports=n.p+"static/media/new-message-notification.4f3a8b215ffc15bd1ba2.mp3"}}]);
//# sourceMappingURL=839.8dfd16b0.chunk.js.map